############## vagrant config options

config.vm.network "private_network", type: "dhcp"
config.vm.network "forwarded_port", guest: 80, host: 8080, id: "nginx"

config.vm.network "forwarded_port", guest: 80, host: 8022, id: "nginx" auto_correct: true

config.vm.network "forwarded_port", guest:"80", host:"8022", id:"nginx", guest_ip:"", host_ip:"", protocol:"udp"

config.vm.synced_folder "./", "/vagrant", disabled: true
  config.vm.synced_folder "www", "/vagrant/www"
  config.vm.synced_folder "sites-enabled", "/vagrant/sites-enabled"

run below command in folder where vagrant file is placed to add the box to list of saved boxes
vagrant box repackage <name> <provider> <version> 

/vagrant the shared folder

#############nginx default sites folder
/etc/nginx/sites-enabled

vagrant share (will share the website across different machines but with an unique url)
	copy the generated unique url and use on the different machine 
vagrant share --ssh (will share the ssh session with a unique hostname and user provided password and private key generated by vagrant)
	User from another machine can connect to the ssh session using,
	vagrant connect --ssh unique-hostname

############################################################# GIT Actions

In the Command prompt, add the URL for the remote repository where your local repository will be pushed.

git init

git remote add origin git@github.com:hvamsik/vagrantlearning.git
# Sets the new remote
git remote -v
# Verifies the new remote URL
Push the changes in your local repository to GitHub.

git push origin master
# Pushes the changes in your local repository up to the remote repository you specified as the origin

Use below git command to remove added git files

git rm -r --cached *

Run below git commmand to turn the auto CRLF conversion (warning: LF will be replaced by CRLF )off by git
git config core.autocrlf true

############################ Replica sets

def config_zipset(config, node_number)
    config.vm.define "zipset#{node_number}" do |replica|
      replica.vm.box = "mongodb"
      replica.vm.hostname = "zipset#{node_number}"
      replica.vm.network "private_network", ip: "192.168.50.10#{node_number}"

      replica.vm.provision :puppet do |puppet|
        puppet.module_path = "modules"
        puppet.manifests_path = "manifests"
        puppet.manifest_file = "replicaset.pp"
      end
    end 
  end

  for node_number in 1..3
    config_zipset config, node_number
  end

################################# vm definition

config.vm.define "sometype" do |sometype|
    sometype.vm.hostname = "somehostname"
    sometype.vm.network "forwarded_port", host: 27018, guest: 27018, id: "mongodb"

  end

#####################################

using rsync instead of default synced folder

config.vm.synced_folder ".", "/vagrant", type: "rsync" , rsync__exclude: [".git/","myhubot/node_modules"]


####################################
